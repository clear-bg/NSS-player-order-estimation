<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:NssOrderTool.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="500"
             x:Class="NssOrderTool.Views.SimulationView"
             x:DataType="vm:SimulationViewModel">

	<Grid ColumnDefinitions="*, 20, *" Margin="20">
		<StackPanel Grid.Column="0" Spacing="10">
			<TextBlock Text="ðŸŽ® ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å…¥åŠ›" FontSize="16" FontWeight="Bold"/>
			<TextBlock Text="å‚åŠ ã™ã‚‹8äººã®åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚1ç•ªç›®ã¯éƒ¨å±‹ä¸»ï¼ˆå›ºå®šï¼‰ã§ã™ã€‚" FontSize="12" Foreground="Gray" TextWrapping="Wrap"/>

			<ItemsControl ItemsSource="{Binding Inputs}">
				<ItemsControl.ItemTemplate>
					<DataTemplate x:DataType="vm:SimulationInputItem">
						<Grid ColumnDefinitions="30, *" Margin="0,5">
							<TextBlock Grid.Column="0" Text="{Binding Index, StringFormat='{}{0}.'}" 
                                        VerticalAlignment="Center" FontWeight="Bold"/>

                            <AutoCompleteBox Grid.Column="1"
                                             Text="{Binding Name}"
                                             Watermark="{Binding Placeholder}"
                                             ItemsSource="{Binding $parent[UserControl].((vm:SimulationViewModel)DataContext).AllPlayerNames}"
                                             FilterMode="Contains"
                                             MinimumPrefixLength="1"/>
						</Grid>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>

			<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,10,0,0">
				<Button Content="è¨ˆç®—ã™ã‚‹" Command="{Binding RunSimulationCommand}"
                        Background="#007ACC" Foreground="White" FontWeight="Bold"/>
				<Button Content="ã‚¯ãƒªã‚¢" Command="{Binding ClearInputsCommand}"/>
			</StackPanel>

			<TextBlock Text="{Binding StatusText}" Foreground="Green" TextWrapping="Wrap" Margin="0,5,0,0"/>
		</StackPanel>

		<StackPanel Grid.Column="2" Spacing="10">
			<TextBlock Text="ðŸ“Š æŽ¨å®šçµæžœ" FontSize="16" FontWeight="Bold"/>
			<TextBlock Text="å†…éƒ¨ãƒ¬ãƒ¼ãƒˆé †ã®äºˆæ¸¬ï¼ˆä¸Šã‹ã‚‰é †ã«ä¸¦ã³ã¾ã™ï¼‰" FontSize="12" Foreground="Gray"/>

			<ListBox ItemsSource="{Binding SimulationResults}" Height="400" Background="#F0F0F0">
				<ListBox.ItemTemplate>
					<DataTemplate>
						<StackPanel Orientation="Horizontal" Spacing="5">

							<TextBlock Text="{Binding RankText}"
                                       Foreground="{Binding RankColor}"
                                       FontWeight="{Binding RankWeight}"
                                       Width="30" TextAlignment="Right"/>

							<TextBlock Text="{Binding PlayerName}"
                                       Foreground="Black" FontWeight="Bold"/>

							<TextBlock Text="{Binding Suffix}"
                                       Foreground="Gray" FontSize="11" VerticalAlignment="Center"/>
						</StackPanel>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
		</StackPanel>
	</Grid>
</UserControl>