<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:NssOrderTool.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="500"
             x:Class="NssOrderTool.Views.OrderEstimationView"
             x:DataType="vm:OrderEstimationViewModel">

	<Grid Margin="10" ColumnDefinitions="*, 20, *">

		<StackPanel Grid.Column="0" Spacing="10">
			<StackPanel Orientation="Horizontal" Spacing="10" VerticalAlignment="Center">
				<TextBlock Text="âœï¸ å…¥åŠ›" FontWeight="Bold" FontSize="16" VerticalAlignment="Center"/>
				<Border CornerRadius="4" Padding="8,2" Background="{Binding EnvBadgeColor}">
					<TextBlock Text="{Binding EnvText}" Foreground="White" FontWeight="Bold" FontSize="12"/>
				</Border>
			</StackPanel>

			<TextBlock Text="ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åã‚’ã‚«ãƒ³ãƒžåŒºåˆ‡ã‚Šã§å…¥åŠ› (ä¾‹: A, B, C)" FontSize="12" Foreground="Gray"/>

			<TextBox Text="{Binding InputText}"
                     Watermark="ä¾‹: Player1, Player2, Player3"
                     Height="100"
                     AcceptsReturn="True"
                     TextWrapping="Wrap"/>

			<Button Content="ãƒ‡ãƒ¼ã‚¿ã‚’ç™»éŒ²"
                    HorizontalAlignment="Stretch"
                    HorizontalContentAlignment="Center"
                    Background="#007ACC" Foreground="White"
                    Command="{Binding RegisterCommand}"/>

			<TextBlock Text="{Binding StatusText}"
                       Foreground="Green"
                       TextWrapping="Wrap"/>

			<Separator Margin="0,10" />
			<TextBlock Text="ðŸ“œ ç™»éŒ²å±¥æ­´ (æœ€æ–°50ä»¶)" FontWeight="Bold" FontSize="14"/>

			<ListBox ItemsSource="{Binding HistoryList}" Height="200" Background="#F9F9F9">
				<ListBox.ItemTemplate>
					<DataTemplate>
						<Grid ColumnDefinitions="*, Auto">
							<TextBlock Grid.Column="0" Text="{Binding DisplayText}"
                                       VerticalAlignment="Center" FontSize="11" Foreground="#333333"/>

							<Button Grid.Column="1" Content="ðŸ—‘ï¸"
                                    FontSize="10" Padding="5,2" Margin="5,0,0,0"
                                    Background="Transparent" Foreground="Red"
                                    Command="{Binding $parent[UserControl].((vm:OrderEstimationViewModel)DataContext).DeleteHistoryCommand}"
                                    CommandParameter="{Binding}"/>
						</Grid>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
		</StackPanel>

		<StackPanel Grid.Column="2" Spacing="10">
			<Grid ColumnDefinitions="*, Auto, Auto">
				<TextBlock Grid.Column="0" Text="ðŸ“Š æŽ¨å®šé †åº (Sequence)" FontWeight="Bold" FontSize="16" VerticalAlignment="Center"/>

				<Button Grid.Column="1" Content="æ›´æ–°" Command="{Binding ReloadCommand}" Margin="0,0,5,0"/>

				<Button Grid.Column="2" Name="ClearButton" Content="ðŸ—‘ï¸ åˆæœŸåŒ–"
                        Background="#FFCCCC" Foreground="Red"
                        Click="ClearButton_Click"/>
			</Grid>

			<ListBox ItemsSource="{Binding RankingList}" Height="380" Background="#F0F0F0" Foreground="Black">
				<ListBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding}" Padding="5" Foreground="Black"/>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
		</StackPanel>
	</Grid>
</UserControl>